(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(41),c=a.n(s),o=(a(50),a(51),a(22)),i=a(15),l=a(3),u=a(4),m=a(6),d=a(5),p=a(7),h=a(52),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={course:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.context,r=t.match;a.actions.getCourses(r.params.id).then((function(t){null===t?e.props.history.push("/notfound"):e.setState({course:t})})).catch((function(t){e.props.history.push("/error")}))}},{key:"render",value:function(){var e,t,a,r,s=this.props.context,c=this.state.course,o=c.id,i=c.title,l=c.description,u=c.estimatedTime,m=c.materialsNeeded,d=c.owner;return s.authenticatedUser&&(a=s.authenticatedUser.id),d&&(e=d.firstName.charAt(0).toUpperCase()+d.firstName.slice(1),t=d.lastName.charAt(0).toUpperCase()+d.lastName.slice(1),r=d.id),n.a.createElement("div",{className:"actions--bar"},n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-100"},n.a.createElement("div",{className:"button-container"},n.a.createElement("a",{className:"button back-button",href:"/"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-left"},n.a.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),n.a.createElement("polyline",{points:"12 19 5 12 12 5"})),n.a.createElement("span",null,"Back")),a&&r===a?n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{className:"button update-button",href:"/courses/".concat(o,"/update")},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit"},n.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),n.a.createElement("span",null,"Edit Course")),n.a.createElement("a",{className:"button delete-button",href:"/courses/".concat(o,"/delete")},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2"},n.a.createElement("polyline",{points:"3 6 5 6 21 6"}),n.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),n.a.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),n.a.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"})),n.a.createElement("span",null,"Delete Course"))):null))),n.a.createElement("div",{className:"grid--style"},n.a.createElement("div",{className:"bounds course--detail view"},n.a.createElement("div",{className:"grid-66"},n.a.createElement("div",{className:"course--header"},n.a.createElement("h1",{className:"main--heading--details"},i),n.a.createElement("div",{className:"course--author--container"},n.a.createElement("p",null,"By ",n.a.createElement("span",{className:"course--author"},"".concat(e," ").concat(t))))),n.a.createElement("div",{className:"course--description"},n.a.createElement(h,{source:l}))),n.a.createElement("div",{className:"grid-25 grid-right"},n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h2",null,"Time"),n.a.createElement("span",null,u)),n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h2",null,"Materials Needed"),n.a.createElement("ul",null,m?n.a.createElement(h,{source:m,renderers:{textarea:function(e){return n.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"List materials..."})}}}):null))))))))}}]),t}(n.a.Component),E=function(e){var t,a,r,s,c=e.id,o=e.title,i=e.description,l=e.owner,u=e.firstName,m=e.lastName,d=e.context;return d.authenticatedUser&&(r=d.authenticatedUser.id),l&&(t=u.charAt(0).toUpperCase()+u.slice(1),a=m.charAt(0).toUpperCase()+m.slice(1),s=l.id),n.a.createElement("div",{className:"grid-33"},r&&s===r?n.a.createElement("a",{className:"course--module course--link course--editable",href:"/courses/".concat(c)},n.a.createElement("h2",{className:"course--title"},o),n.a.createElement("div",{className:"course--description-container"},n.a.createElement("h4",{className:"course--description"},i)),n.a.createElement("div",{className:"course--extras"},n.a.createElement("h5",{className:"course--author--card"},"".concat(t," ").concat(a)),n.a.createElement("div",{className:"course--option course--option--editable"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit"},n.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),n.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),n.a.createElement("h5",null,"Editable")))):n.a.createElement("a",{className:"course--module course--link",href:"/courses/".concat(c)},n.a.createElement("h2",{className:"course--title"},o),n.a.createElement("h4",{className:"course--description"},i),n.a.createElement("div",{className:"course--extras"},n.a.createElement("h5",{className:"course--author--card"},"".concat(t," ").concat(a)),n.a.createElement("div",{className:"course--option course--option--view"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#979797",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye"},n.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),n.a.createElement("circle",{cx:"12",cy:"12",r:"3"})),n.a.createElement("h5",null,"View Only")))))},v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={courses:[]},a.returnCourses=function(){var e=a.props.context;return a.state.courses.map((function(t){return n.a.createElement(E,{key:t.id,id:t.id,title:t.title,description:t.description,owner:t.owner,firstName:t.owner.firstName,lastName:t.owner.lastName,context:e})}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.context.actions.getCourses().then((function(t){e.setState({courses:t})})).catch((function(t){e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this.state.courses;return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"heading--section"},n.a.createElement("h1",{className:"main--heading"},"Courses"),n.a.createElement("div",null,n.a.createElement("a",{className:"button create-button",href:"/courses/create"},n.a.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("rect",{x:"7",y:"14",width:"14",height:"2",transform:"rotate(-90 7 14)",fill:"black"}),n.a.createElement("rect",{x:"0.5",y:"6",width:"14.5",height:"2",fill:"black"})),n.a.createElement("span",null,"Create Course")))),n.a.createElement("div",{className:"course--grid"},e?this.returnCourses():null))}}]),t}(n.a.Component),b=a(14),N=function(e){var t=e.errors.error;return void 0===t||0===t.length?null:n.a.createElement("div",null,n.a.createElement("h2",{className:"validation--errors--label"},"Validation errors"),n.a.createElement("div",{className:"validation-errors"},n.a.createElement("ul",null,t.map((function(e,t){return n.a.createElement("li",{key:t},e)})))))},g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={title:"",description:"",estimatedTime:"",materialsNeeded:"",userId:"",errors:[]},a.change=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(b.a)({},t,r))},a.submit=function(e){e.preventDefault();var t=a.state,r=t.title,n=t.description,s=t.estimatedTime,c=t.materialsNeeded,o=a.props.context,i={title:r,description:n,estimatedTime:s,materialsNeeded:c,userId:o.authenticatedUser.id};o.actions.postCourse(i).then((function(t){if(t.error){e.persist();var r={error:t.error};a.setState({errors:r})}else if(t.course){var n=t.course.id;a.props.history.push("/courses/".concat(n))}})).catch((function(e){a.props.history.push("/error")}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,r=t.description,s=t.estimatedTime,c=t.materialsNeeded,o=t.errors;return n.a.createElement("div",{className:"bounds course--detail"},n.a.createElement("h1",{className:"main--heading"},"Create Course"),n.a.createElement("div",null,n.a.createElement(N,{errors:o}),n.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},n.a.createElement("div",{className:"grid-66"},n.a.createElement("div",{className:"course--header"},n.a.createElement("h5",{className:"course--label"},"Title"),n.a.createElement("div",null,n.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Title...",onChange:function(t){return e.change(t)},value:a}))),n.a.createElement("div",{className:"course--description"},n.a.createElement("h5",{className:"course--label"},"Description"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Description...",onChange:function(t){return e.change(t)},value:r})))),n.a.createElement("div",{className:"grid-25 grid-right"},n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h5",{className:"course--label"},"Estimated Time"),n.a.createElement("div",null,n.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",onChange:function(t){return e.change(t)},placeholder:"Hours",value:s}))),n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h5",{className:"course--label"},"Materials Needed"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"Ex: * material 1",onChange:function(t){return e.change(t)},value:c})))))),n.a.createElement("div",{className:"grid-100 pad-bottom"},n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"button create-button",type:"submit"},"Create Course"),n.a.createElement("button",{className:"button cancel-button",onClick:function(t){t.preventDefault(),e.props.history.push("/")}},"Cancel"))))))}}]),t}(n.a.Component),w=function(e){var t=e.context;return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"bounds"},n.a.createElement("a",{href:"/"},"Courses"),n.a.createElement("nav",null,null!==t.authenticatedUser?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Welcome ",t.authenticatedUser.firstName.charAt(0).toUpperCase()+t.authenticatedUser.firstName.slice(1)),n.a.createElement("a",{href:"/signout"},"Sign Out")):n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{className:"signin",href:"/signin"},"Sign In"),n.a.createElement("a",{className:"signup",href:"/signup"},"Sign Up")))))},x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={id:"",title:"",description:"",estimatedTime:"",materialsNeeded:"",userId:"",errors:[],owner:""},a.change=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(b.a)({},t,r))},a.isOwner=function(e,t){return e.owner.id===t.authenticatedUser.id},a.submit=function(e){e.preventDefault();var t=a.props.context,r=a.state,n=r.id,s={title:r.title,description:r.description,estimatedTime:r.estimatedTime,materialsNeeded:r.materialsNeeded,userId:r.userId};t.actions.putCourse(n,s).then((function(t){t?(e.persist(),a.setState({errors:t})):a.props.history.push("/courses/".concat(n))})).catch((function(e){return a.props.history.push("/error")}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.context,r=t.match.params.id;a.actions.getCourses(r).then((function(t){null===t?e.props.history.push("/notfound"):e.isOwner(t,a)?e.setState({id:t.id,title:t.title,description:t.description,estimatedTime:t.estimatedTime,materialsNeeded:t.materialsNeeded,userId:t.userId,owner:t.owner}):e.props.history.push("/forbidden")})).catch((function(t){e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,r=t.title,s=t.description,c=t.estimatedTime,o=t.materialsNeeded,i=t.errors,l=(this.props.location.state||{from:"/courses/".concat(a)}).from;return n.a.createElement("div",{className:"bounds course--detail"},n.a.createElement("h1",null,"Edit Course"),n.a.createElement("div",null,n.a.createElement(N,{errors:i}),n.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},n.a.createElement("div",{className:"grid-66"},n.a.createElement("div",{className:"course--header"},n.a.createElement("h5",{className:"course--label"},"Title"),n.a.createElement("div",null,n.a.createElement("input",{id:"title",name:"title",type:"text",className:"input-title course--title--input",placeholder:"Title...",value:r,onChange:function(t){return e.change(t)}}))),n.a.createElement("div",{className:"course--description"},n.a.createElement("h5",{className:"course--label"},"Description"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"description",name:"description",className:"",placeholder:"Description...",value:s,onChange:function(t){return e.change(t)}})))),n.a.createElement("div",{className:"grid-25 grid-right"},n.a.createElement("div",{className:"course--stats"},n.a.createElement("ul",{className:"course--stats--list"},n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h5",{className:"course--label"},"Time"),n.a.createElement("div",null,n.a.createElement("input",{id:"estimatedTime",name:"estimatedTime",type:"text",className:"course--time--input",placeholder:"Hours",value:c,onChange:function(t){return e.change(t)}}))),n.a.createElement("li",{className:"course--stats--list--item"},n.a.createElement("h5",{className:"course--label"},"Materials Needed"),n.a.createElement("div",null,n.a.createElement("textarea",{id:"materialsNeeded",name:"materialsNeeded",className:"",placeholder:"Ex: * material 1",value:o,onChange:function(t){return e.change(t)}})))))),n.a.createElement("div",{className:"grid-100 pad-bottom"},n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"button save-button",type:"submit"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-save"},n.a.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),n.a.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),n.a.createElement("polyline",{points:"7 3 7 8 15 8"})),n.a.createElement("span",null,"Save")),n.a.createElement("button",{className:"button cancel-button",onClick:function(t){t.preventDefault(),e.props.history.push(l)}},"Cancel"))))))}}]),t}(n.a.Component),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={emailAddress:"",password:"",errors:[]},a.change=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(b.a)({},t,r))},a.submit=function(e,t,r){e.preventDefault();var n=a.props.context,s=(a.props.location.state||{from:{pathname:"/"}}).from;n.actions.signIn(t,r).then((function(t){null===t?(e.persist(),a.setState({errors:{error:["Sign-in unsuccessful."]}})):(e.persist(),a.props.history.push(s))})).catch((function(e){a.props.history.push("/error")}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.context,a=e.history;null!==t.authenticatedUser&&a.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.emailAddress,r=t.password,s=t.errors;return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-33 centered signin"},n.a.createElement("h2",{className:"heading--signin"},"Sign In"),n.a.createElement("div",null,n.a.createElement(N,{errors:s}),n.a.createElement("form",{onSubmit:function(t){return e.submit(t,a,r)}},n.a.createElement("div",null,n.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:a,onChange:function(t){return e.change(t)}})),n.a.createElement("div",null,n.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:r,onChange:function(t){return e.change(t)}})),n.a.createElement("div",{className:"grid-100 pad-bottom"},n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"button signin-button",type:"submit"},"Sign In"))))),n.a.createElement("p",null,"\xa0"),n.a.createElement("p",null,"Don't have a user account? ",n.a.createElement("a",{href:"/signup"},"Click here")," to sign up!")))}}]),t}(n.a.Component),k=function(e){return e.context.actions.signOut(),n.a.createElement(i.a,{to:"/"})},C=a(1),O=a.n(C),j=a(11),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",emailAddress:"",password:"",confirmPassword:"",errors:[]},a.change=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(b.a)({},t,r))},a.submit=function(){var e=Object(j.a)(O.a.mark((function e(t,r){var n,s,c,o,i,l,u,m,d;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,s=n.context,c=n.history,o=a.state,i=o.emailAddress,l=o.password,u=o.confirmPassword,m=a.props.location.state||{from:{pathname:"/"}},d=m.from,t.preventDefault(),s.actions.postUser(r,l,u).then((function(e){t.persist(),null!==e?a.setState({errors:e}):s.actions.signIn(i,l).then((function(){c.push(d)}))})).catch((function(e){a.props.history.push("/error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.firstName,r=t.lastName,s=t.emailAddress,c=t.password,o=t.confirmPassword,i=t.errors,l={firstName:a,lastName:r,emailAddress:s,password:c,confirmPassword:o};return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"grid-33 centered signin"},n.a.createElement("h2",{className:"heading--signup"},"Sign Up"),n.a.createElement("div",null,n.a.createElement(N,{errors:i}),n.a.createElement("form",{onSubmit:function(t){return e.submit(t,l)}},n.a.createElement("div",null,n.a.createElement("input",{id:"firstName",name:"firstName",type:"text",className:"",placeholder:"First Name",value:a,onChange:function(t){return e.change(t)}})),n.a.createElement("div",null,n.a.createElement("input",{id:"lastName",name:"lastName",type:"text",className:"",placeholder:"Last Name",value:r,onChange:function(t){return e.change(t)}})),n.a.createElement("div",null,n.a.createElement("input",{id:"emailAddress",name:"emailAddress",type:"text",className:"",placeholder:"Email Address",value:s,onChange:function(t){return e.change(t)}})),n.a.createElement("div",null,n.a.createElement("input",{id:"password",name:"password",type:"password",className:"",placeholder:"Password",value:c,onChange:function(t){return e.change(t)}})),n.a.createElement("div",null,n.a.createElement("input",{id:"confirmPassword",name:"confirmPassword",type:"password",className:"",placeholder:"Confirm Password",value:o,onChange:function(t){return e.change(t)}})),n.a.createElement("div",{className:"grid-100 pad-bottom"},n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"button signup-button",type:"submit"},"Sign Up"),n.a.createElement("button",{className:"button cancel-button",onClick:function(t){t.preventDefault(),e.props.history.push("/")}},"Cancel"))))),n.a.createElement("p",null,"\xa0"),n.a.createElement("p",null,"Already have a user account? ",n.a.createElement("a",{href:"/signin"},"Click here")," to sign in!")))}}]),t}(n.a.Component),A=function(){return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"message--container"},n.a.createElement("div",{className:"message--text"},n.a.createElement("h1",null,"404"),n.a.createElement("h1",null,"Page Not Found."))))},S=a(44),T=a(17),D=a.n(T),L=n.a.createContext(),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={authenticatedUser:D.a.getJSON("authenticatedUser")||null,password:D.a.getJSON("password")||null},a.api=function(){var e=Object(j.a)(O.a.mark((function e(t,a){var r,n,s,c,o,i=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,n=i.length>3&&void 0!==i[3]&&i[3],s=i.length>4&&void 0!==i[4]?i[4]:null,c={method:a,mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}},null!==r&&(c.body=JSON.stringify(r)),!0===n&&(o=btoa("".concat(s.emailAddress,":").concat(s.password)),c.headers.Authorization="Basic ".concat(o)),e.abrupt("return",fetch(t,c));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.signIn=function(){var e=Object(j.a)(O.a.mark((function e(t,r){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getUser(t,r);case 2:if(!(n=e.sent)){e.next=7;break}a.setState({authenticatedUser:{id:n.id,firstName:n.firstName,lastName:n.lastName,emailAddress:n.emailAddress,password:r},password:r},(function(){D.a.set("authenticatedUser",JSON.stringify(n),{expires:1}),D.a.set("password",JSON.stringify(r),{expires:1})})),e.next=8;break;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.signOut=function(){a.setState({authenticatedUser:null,password:null}),D.a.remove("authenticatedUser"),D.a.remove("password")},a.getUser=function(){var e=Object(j.a)(O.a.mark((function e(t,r){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api("https://course-platform-server.herokuapp.com/api/users","GET",null,!0,{emailAddress:t,password:r});case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:if(401!==n.status){e.next=11;break}return e.abrupt("return",null);case 11:throw new Error;case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.postUser=function(){var e=Object(j.a)(O.a.mark((function e(t,r,n){var s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===n){e.next=5;break}return s={error:["Passwords do not match"]},e.abrupt("return",s);case 5:return e.next=7,a.api("https://course-platform-server.herokuapp.com/api/users","POST",t);case 7:if(201!==(c=e.sent).status){e.next=12;break}return e.abrupt("return",null);case 12:if(400!==c.status){e.next=14;break}return e.abrupt("return",c.json());case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),a.getCourses=function(){var e=Object(j.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,a.api("https://course-platform-server.herokuapp.com/api/courses/".concat(t),"GET");case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,a.api("https://course-platform-server.herokuapp.com/api/courses","GET");case 8:r=e.sent;case 9:if(200!==r.status){e.next=13;break}return e.abrupt("return",r.json());case 13:return e.abrupt("return",new Error);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.postCourse=function(){var e=Object(j.a)(O.a.mark((function e(t){var r,n,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.authenticatedUser,n=a.state.password,s=r.emailAddress,e.next=5,a.api("https://course-platform-server.herokuapp.com/api/courses","POST",t,!0,{emailAddress:s,password:n});case 5:if(201!==(c=e.sent).status){e.next=10;break}return e.abrupt("return",c.json());case 10:if(400!==c.status){e.next=14;break}return e.abrupt("return",c.json());case 14:throw new Error;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.putCourse=function(){var e=Object(j.a)(O.a.mark((function e(t,r){var n,s,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.authenticatedUser,s=a.state.password,c=n.emailAddress,e.next=5,a.api("https://course-platform-server.herokuapp.com/api/courses/".concat(t),"PUT",r,!0,{emailAddress:c,password:s});case 5:if(204!==(o=e.sent).status){e.next=10;break}return e.abrupt("return",null);case 10:if(400!==o.status){e.next=14;break}return e.abrupt("return",o.json());case 14:if(403!==o.status){e.next=18;break}return e.abrupt("return",null);case 18:return e.abrupt("return",new Error);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.deleteCourse=function(){var e=Object(j.a)(O.a.mark((function e(t){var r,n,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.authenticatedUser,n=a.state.password,s=r.emailAddress,e.next=5,a.api("https://course-platform-server.herokuapp.com/api/courses/".concat(t),"DELETE",null,!0,{emailAddress:s,password:n});case 5:if(204!==(c=e.sent).status){e.next=10;break}return e.abrupt("return",c.status);case 10:if(403!==c.status){e.next=14;break}return e.abrupt("return",c.status);case 14:return e.abrupt("return",new Error);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t={authenticatedUser:e.authenticatedUser,password:e.password,actions:{getUser:this.getUser,postUser:this.postUser,getCourses:this.getCourses,postCourse:this.postCourse,putCourse:this.putCourse,deleteCourse:this.deleteCourse,signIn:this.signIn,signOut:this.signOut}};return n.a.createElement(L.Provider,{value:t},this.props.children)}}]),t}(r.Component),M=L.Consumer;function P(e){return function(t){return n.a.createElement(L.Consumer,null,(function(a){return n.a.createElement(e,Object.assign({},t,{context:a}))}))}}var B=function(e){var t=e.component,a=Object(S.a)(e,["component"]);return n.a.createElement(M,null,(function(e){return n.a.createElement(i.b,Object.assign({},a,{render:function(a){return null===e.authenticatedUser?n.a.createElement(i.a,{to:{pathname:"/signin",state:{from:a.location}}}):n.a.createElement(t,a)}}))}))},W=function(){return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"message--container"},n.a.createElement("div",{className:"message--text"},n.a.createElement("h1",null,"500"),n.a.createElement("h1",null,"Unexpected Error."))))},J=function(){return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"message--container"},n.a.createElement("div",{className:"message--text"},n.a.createElement("h1",null,"401"),n.a.createElement("h1",null,"Forbidden."))))},F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={course:{}},a.isOwnerDeleteCourse=function(e){var t=a.props.context;a.state.course.owner.id===t.authenticatedUser.id?t.actions.deleteCourse(e).then((function(e){return a.props.history.push("/")})).catch((function(e){a.props.history.push("/error")})):a.props.history.push("/forbidden")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.context,r=t.match;a.actions.getCourses(r.params.id).then((function(t){null===t?e.props.history.push("/notfound"):e.setState({course:t})})).catch((function(t){e.props.history.push("/error")}))}},{key:"render",value:function(){var e=this,t=this.state.course,a=t.id,r=t.title;return n.a.createElement("div",{className:"bounds"},n.a.createElement("div",{className:"message--container message--delete"},n.a.createElement("div",{className:"message--text"},n.a.createElement("h1",null,"Are you sure you want to delete course:"),n.a.createElement("h1",null,r),n.a.createElement("div",{className:"button-container delete"},n.a.createElement("button",{className:"button delete-button",onClick:function(){return e.isOwnerDeleteCourse(a)}},n.a.createElement("span",null,"Delete Course")),n.a.createElement("button",{className:"button cancel-button",onClick:function(t){t.preventDefault(),e.props.history.push("/courses/".concat(a))}},"Cancel")))))}}]),t}(n.a.Component),H=P(w),z=P(v),V=P(g),G=P(f),$=P(x),q=P(y),K=P(U),Q=P(k),R=P(F),X=function(){return n.a.createElement("div",{className:"root"},n.a.createElement("div",null,n.a.createElement(o.a,null,n.a.createElement(H,null),n.a.createElement(i.d,null,n.a.createElement(B,{exact:!0,path:"/",component:z}),n.a.createElement(B,{exact:!0,path:"/courses/create",component:V}),n.a.createElement(B,{exact:!0,path:"/courses/:id",component:G}),n.a.createElement(B,{exact:!0,path:"/courses/:id/update",component:$}),n.a.createElement(B,{exact:!0,path:"/courses/:id/delete",component:R}),n.a.createElement(i.b,{exact:!0,path:"/signin",component:q}),n.a.createElement(i.b,{exact:!0,path:"/signup",component:K}),n.a.createElement(i.b,{exact:!0,path:"/signout",component:Q}),n.a.createElement(i.b,{exact:!0,path:"/error",component:W}),n.a.createElement(i.b,{exact:!0,path:"/forbidden",component:J}),n.a.createElement(i.b,{exact:!0,path:"/notfound",component:A}),n.a.createElement(i.b,{component:A})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(I,null,n.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,a){e.exports=a(138)},50:function(e,t,a){},51:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.ecb2711f.chunk.js.map